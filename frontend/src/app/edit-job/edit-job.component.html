<form class="needs-validation" #userForm="ngForm" (ngSubmit)="userForm.form.valid && onSubmit(userForm)">
    <div class="row">
      <div class="col-12">
        <div class="content-header">Edit Job</div>
      </div>
    </div>
  
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">Client Information</h4>
          </div>
          <div class="card-content">
            <div class="card-body">
  
              <div class="form-row">
                <div class="col-md-4 mb-4 form-group">
                  <label for="validationTooltip01">First name</label>
                  <input type="text" name="fname" class="form-control" id="validationTooltip01" placeholder="First name"
                    [(ngModel)]="model.fname" #fname="ngModel"
                    [ngClass]="{ 'is-invalid': userForm.submitted && fname.invalid, 'is-valid': userForm.submitted &&  !fname.invalid }"
                    required>
                  <div *ngIf="userForm.submitted && !fname.errors?.required" class="valid-tooltip">Looks good!</div>
                </div>
                <div class="col-md-4 mb-4 form-group">
                  <label for="validationTooltip02">Last name</label>
                  <input type="text" name="lname" class="form-control" id="validationTooltip02" placeholder="Last name"
                    [(ngModel)]="model.lname" #lname="ngModel"
                    [ngClass]="{ 'is-invalid': userForm.submitted && lname.invalid, 'is-valid': userForm.submitted && !lname.invalid }"
                    required>
                  <div *ngIf="userForm.submitted && !lname.errors?.required" class="valid-tooltip">Looks good!</div>
                </div>
                <div class="col-md-4 mb-4 form-group">
                  <label for="validationTooltip03">Phone Number</label>
                  <input type="text" name="phone" class="form-control" id="validationTooltip03" placeholder="Phone Number"
                    [(ngModel)]="model.phone" #phone="ngModel"
                    [ngClass]="{ 'is-invalid': userForm.submitted && phone.invalid, 'is-valid': userForm.submitted && !phone.invalid }"
                    required>
                  <div *ngIf="userForm.submitted && (phone.invalid || phone.errors?.required)" class="invalid-tooltip">
                    Please provide a valid Phone Number.</div>
                </div>
              </div>
  
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <div class="row">
      <div class="col-8">
        <!-- Kick start -->
        <div id="kick-start" class="card height-600">
          <div class="card-header">
            <h4 class="card-title">Job Informaton</h4>
          </div>
          <div class="card-content">
            <div class="card-body">
              <div class="card-text">
                <div class="form-row">
                  <div class="col-md-4 mb-4 form-group">
                    <!-- <label for="carInfo">Car Info</label> -->
                    <textarea class="form-control" aria-label="With textarea" name="carInfo" class="form-control" id="carInfo" placeholder="Car Info"
                    [(ngModel)]="model.carInfo" #carInfo="ngModel"
                    [ngClass]="{ 'is-invalid': userForm.submitted && carInfo.invalid, 'is-valid': userForm.submitted &&  !carInfo.invalid }"
                    required></textarea>
                    <div *ngIf="userForm.submitted && !carInfo.errors?.required" class="valid-tooltip">Looks good!</div>
                  </div>
                  <div class="col-md-8 mb-4 form-group">
                    <div class="form-row">
                      <div class="form-group col">
                          <label>Primary Color:</label>
                          <input class="form-control" type="color" name="primary-color" [(ngModel)]="model.primary">
                      </div>
                      <div class="form-group col">
                          <label>Secondary Color:</label>
                          <input class="form-control" type="color" name="secondary-color" [(ngModel)]="model.secondary">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group col pl-4">
                          <label>Starts At:</label><br>
                          <!-- code here -->
                          <!-- <input [owlDateTimeTrigger]="db" [owlDateTime]="db" [(ngModel)]="startDate" name="startDate">
                          <owl-date-time [startAt]="startDate" #db></owl-date-time> -->
                          <owl-date-time-inline [(ngModel)]="startDate" [startAt]="startDate" name="startDate"></owl-date-time-inline>

                      </div>
                      <div class="form-group col pl-4">
                          <label>Ends At:</label><br>
                          <!-- code here -->
                          <owl-date-time-inline [(ngModel)]="endDate" [startAt]="endDate" name="endDate"></owl-date-time-inline>
                          <!-- <input [owlDateTimeTrigger]="dt" [owlDateTime]="dt" [(ngModel)]="endDate" name="endDate">
                          <owl-date-time [startAt]="endDate" #dt></owl-date-time> -->
                        </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--/ Kick start -->
      </div>
  
      <div class="col-4">
        <!-- Kick start -->
        <div id="kick-start" class="card height-500">
          <div class="card-header">
            <h4 class="card-title">Notes</h4>
          </div>
          <div class="card-content">
            <div class="card-body">
              <textarea class="form-control" aria-label="With textarea" name="notes" class="form-control" id="notes" placeholder="Notes"
              [(ngModel)]="model.notes" #notes="ngModel"
              [ngClass]="{ 'is-invalid': userForm.submitted && notes.invalid, 'is-valid': userForm.submitted &&  !notes.invalid }"
              required></textarea>
              <div *ngIf="userForm.submitted && !notes.errors?.required" class="valid-tooltip">Looks good!</div>
            </div>
          </div>
        </div>
        <!--/ Kick start -->
      </div>
    </div>
  
    <div class="row" *ngIf="notClosed; else closed">
      <div class="col">
        <button class="btn btn-danger btn-block btn-lg" (click)="delete()">Delete</button>
      </div>
      <div class="col">
        <button class="btn btn-primary btn-block btn-lg" type="submit">Save</button>
      </div>
      <div class="col">
        <button class="btn btn-success btn-block btn-lg" (click)="sendToTintWork()">Send to TintWork</button>
      </div>
    </div>

    <ng-template #closed>
      <div class="row">
        <div class="col">
          <button class="btn btn-danger btn-block btn-lg" [routerLink]="'/jobs'">Back</button>
        </div>
      </div>
    </ng-template>
  
  </form>